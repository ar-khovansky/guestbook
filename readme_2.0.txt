Гостевая книга - Хованский А.О.
v2.0


Отличия от первой версии
------------------------
- Выполнены пункты задания 3e и 3f
- Рефакторинг фронт-энда гостевой книги
- Избыточный библиотечный код убран


Требования
----------
- PHP 5.3.x - ибо используется late static binding
- Доступ в интернет на клиентской машине - jQuery скачивается с CDN (http://code.jquery.com/jquery-1.5.2.min.js)


Установка
---------
- распаковать в дирекорию на сервере, напр. /www/.../guestbook/
- открыть в браузере панель управления http://.../guestbook/guestbook.php?admin=1, установить, настроить
- сама книга будет по адресу http://.../guestbook/guestbook.php

В версии с раздельными файлами
гостевая книга - http://.../guestbook/index.php
панель управления - http://.../guestbook/admin.php


Возможности
-----------
- Регистрация и авторизация пользователей
- Три уровня доступа с разными правами: гость, пользователь, администратор
- Добавление, редактирование, удаление сообщений (в зависимости от наличия прав)
- Интерактивная установка
- Редактирование настроек через веб-интерфейс
- Возможность загрузки изображений на сервер и вставки их в сообщения
- Приложение состоит из одного файла
- Полностью на AJAX
- Поддержка шаблонов оформления (потенциально - я сделал один) - только в версии с раздельными файлами


Состав
------
Однофайловая версия:

files/ - для загружаемых изображений
logs/ - отладочные логи (при define('DEBUG', true))
guestbook.php - приложение


Версия с раздельными файлами:

include/ - классы и функции
js/
  admin.js - js для панели управления
  client.js - js для гостевой книги
  common.js - общий код
  jquery.* - jQuery и плагины
  jsx.js - ядро JS движка и функции библиотечного характера
jshttprequest/ - класс для поддержки AJAX back-end'ов (НЕ мой)
logs/ - отладочные логи (при define('DEBUG', true))
files/ - для загружаемых изображений
templates/ - шаблоны оформления (один)
admin.php - панель управления
admin_be.php - back-end панели управления
client_be.php - back-end гостевой книги
config.php - конфигурационный файл - генерируется автоматически
index.php - главный скрипт гостевой книги
rights.php - функция, определяющая права на разные операции


Примечания
----------
Ctrl-` открывает отладочную консоль, на которую выводится весь текст, поступающий от back-end'а. В норме она должна быть пустой. При появлении там текста (предупреждений, ошибок и т.д.) она открывается сама.

Если нужно запустить установку заново - удалить config.php и зайти в панель управления.
